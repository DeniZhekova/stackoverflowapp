{"ast":null,"code":"import _classCallCheck from\"/Users/deni/Desktop/stockoverflowapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/deni/Desktop/stockoverflowapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/deni/Desktop/stockoverflowapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/deni/Desktop/stockoverflowapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/deni/Desktop/stockoverflowapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Rating}from\"semantic-ui-react\";var Answers=function Answers(props){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,props.answers.author),/*#__PURE__*/React.createElement(\"td\",null,props.answers.text),/*#__PURE__*/React.createElement(\"td\",null,props.answers.rating),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"1\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{id:\"upvote\"},\"Upvote\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{id:\"downvote\"},\"Downvote\")))//onClick={this.increment} and decrement onClick for buttons\n//function increment(){ this.setState({score: this.state.score + 1,});}\n//function decrement(){this.setState({score: this.state.score - 1,});}\n;};var QuestionLink=/*#__PURE__*/function(_Component){_inherits(QuestionLink,_Component);var _super=_createSuper(QuestionLink);function QuestionLink(props){var _this;_classCallCheck(this,QuestionLink);_this=_super.call(this,props);_this.state={currentQuestion:{},answers:[],author:\"\",text:\"\",rating:0,answersToQuestion:\"\"};_this.handleAuthorChange=_this.handleAuthorChange.bind(_assertThisInitialized(_this));_this.handleTextChange=_this.handleTextChange.bind(_assertThisInitialized(_this));_this.handleRating=_this.handleRating.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(QuestionLink,[{key:\"handleAuthorChange\",value:function handleAuthorChange(e){this.setState({author:e.target.value});}},{key:\"handleTextChange\",value:function handleTextChange(e){this.setState({text:e.target.value});}},{key:\"handleRating\",value:function handleRating(e){this.setState({rating:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var newAnswers={author:this.state.author,text:this.state.text,answersToQuestion:this.props.match.params.id};axios.post(\"http://localhost:4000/answers/addAnswers/\",newAnswers).then(function(res){return console.log(res.data);});this.setState({author:\"\",text:\"\",answersToQuestion:this.props.match.params.id});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({answersToQuestion:this.props.match.params.id});axios.get(\"http://localhost:4000/questions/\").then(function(response){_this2.setState({currentQuestion:response.data.find(function(elm){return elm._id===_this2.props.match.params.id;})});});axios.get(\"http://localhost:4000/answers/\").then(function(response){_this2.setState({answers:response.data});}).catch(function(error){console.log(error);});}},{key:\"AnswersList\",value:function AnswersList(){var _this3=this;return this.state.answers.filter(function(e){return e.answersToQuestion===_this3.props.match.params.id;}).map(function(currentAnswers,i){return/*#__PURE__*/React.createElement(Answers,{answers:currentAnswers,key:i});});}},{key:\"ratingbtn\",value:function ratingbtn(){if(this.state.rating=onclick){return+1;}return/*#__PURE__*/React.createElement(\"div\",{className:\"Rating\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",value:this.state.rating,onChange:this.handleRating}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Rating,{rating:this.state.rating}));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"jumbotron col-12\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"display-5\"},this.state.currentQuestion.question_input),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},this.state.currentQuestion.author_name),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-4\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.author,onChange:this.handleAuthorChange})),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Comment: \"),/*#__PURE__*/React.createElement(\"textarea\",{text:\"textarea\",className:\"form-control\",value:this.state.text,onChange:this.handleTextChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit Answer\",className:\"btn btn-primary\"}))),/*#__PURE__*/React.createElement(\"h3\",null,\"Answers\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover\",style:{marginTop:20}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Answer\"),/*#__PURE__*/React.createElement(\"th\",null,\"Rating\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.AnswersList())))));}}]);return QuestionLink;}(Component);export default QuestionLink;","map":{"version":3,"sources":["/Users/deni/Desktop/stockoverflowapp-master/client/src/components/Question-Answers.js"],"names":["React","Component","axios","Rating","Answers","props","answers","author","text","rating","QuestionLink","state","currentQuestion","answersToQuestion","handleAuthorChange","bind","handleTextChange","handleRating","onSubmit","e","setState","target","value","preventDefault","newAnswers","match","params","id","post","then","res","console","log","data","get","response","find","elm","_id","catch","error","filter","map","currentAnswers","i","onclick","question_input","author_name","marginTop","AnswersList"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Rating } from \"semantic-ui-react\";\n\n\nconst Answers = props => (\n\n  <tr>\n    <td>{props.answers.author}</td>\n    <td>{props.answers.text}</td>\n    <td>{props.answers.rating}</td>\n    <td><h6>1</h6></td>\n    <td><button  id=\"upvote\">Upvote</button></td>\n    <td><button id=\"downvote\">Downvote</button></td>\n  </tr>\n\n//onClick={this.increment} and decrement onClick for buttons\n//function increment(){ this.setState({score: this.state.score + 1,});}\n//function decrement(){this.setState({score: this.state.score - 1,});}\n);\n\nclass QuestionLink extends Component {\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      currentQuestion: {},\n      answers: [],\n      author: \"\",\n      text: \"\",\n      rating: 0,\n      answersToQuestion: \"\",\n    };\n    this.handleAuthorChange = this.handleAuthorChange.bind(this);\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.handleRating = this.handleRating.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  handleAuthorChange(e) {\n    this.setState({ author: e.target.value });\n  }\n  handleTextChange(e) {\n    this.setState({ text: e.target.value });\n  }\n  handleRating(e) {\n    this.setState({ rating: e.target.value});\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const newAnswers = {\n      author: this.state.author,\n      text: this.state.text,\n      answersToQuestion: this.props.match.params.id\n    };\n\n    axios\n      .post(\"http://localhost:4000/answers/addAnswers/\", newAnswers)\n      .then(res => console.log(res.data));\n\n    this.setState({\n      author: \"\",\n      text: \"\",\n      answersToQuestion: this.props.match.params.id\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      answersToQuestion: this.props.match.params.id\n    });\n    axios.get(\"http://localhost:4000/questions/\").then(response => {\n      this.setState({\n        currentQuestion: response.data.find(\n          elm => elm._id === this.props.match.params.id\n        )\n      });\n    });\n\n    axios\n      .get(\"http://localhost:4000/answers/\")\n      .then(response => {\n        this.setState({ answers: response.data });\n      })\n\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  AnswersList() {\n    return this.state.answers\n      .filter(e => e.answersToQuestion === this.props.match.params.id)\n      .map(function(currentAnswers, i) {\n        return <Answers answers={currentAnswers} key={i} />;\n      });\n  }\n\n  ratingbtn() {\n    if (this.state.rating = onclick) {\n      return +1;\n    }\n    return (\n      <div className=\"Rating\">\n        <button\n          type=\"button\"\n          value={this.state.rating}\n          onChange={this.handleRating}\n        />\n        <br />\n        <Rating rating={this.state.rating}/>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"jumbotron col-12\">\n\n            <h4 className=\"display-5\">\n              {this.state.currentQuestion.question_input}\n            </h4>\n            <p className=\"lead\">{this.state.currentQuestion.author_name}</p>\n            <hr className=\"my-4\" />\n            <div className=\"form-group\">\n              <label>Name: </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={this.state.author}\n                onChange={this.handleAuthorChange}\n              />\n            </div>\n            <form onSubmit={this.onSubmit}>\n              <div className=\"form-group\">\n                <label>Comment: </label>\n                <textarea\n                  text=\"textarea\"\n                  className=\"form-control\"\n                  value={this.state.text}\n                  onChange={this.handleTextChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"submit\"\n                  value=\"Submit Answer\"\n                  className=\"btn btn-primary\"\n                />\n              </div>\n            </form>\n            <h3>Answers</h3>\n            <table className=\"table table-hover\" style={{ marginTop: 20 }}>\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Answer</th>\n                  <th>Rating</th>\n                </tr>\n              </thead>\n              <tbody>{this.AnswersList()}</tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default QuestionLink;\n"]},"metadata":{},"sourceType":"module"}